if(NOT ANIMA_USE_FILE_INCLUDED)

   set(ANIMA_USE_FILE_INCLUDED 1)

   set(CMAKE_MODULE_PATH ${CMAKE_MODULE_PATH} ${ANIMA_CMAKE_DIRS})

   if (WIN32)
     add_definitions(-D_USE_MATH_DEFINES)
     set(CMAKE_CXX_FLAGS "${CMAKE_CXX_FLAGS} /fp:strict")
   endif()

   include_directories(${ANIMA_INCLUDE_DIRS})
   link_directories(${ANIMA_LIBRARY_DIRS})
   include(ITKLibs)

   set(BUILD_TOOLS ${BUILD_TOOLS})
   set(BUILD_MODULE_MATHS ${BUILD_MODULE_MATHS})
   set(BUILD_MODULE_FILTERING ${BUILD_MODULE_FILTERING})
   set(BUILD_MODULE_REGISTRATION ${BUILD_MODULE_REGISTRATION})
   set(BUILD_MODULE_QUANTITATIVE_MRI $BUILD_MODULE_QUANTITATIVE_MRI})
   set(BUILD_MODULE_DIFFUSION $BUILD_MODULE_DIFFUSION})
   set(BUILD_MODULE_SEGMENTATION ${BUILD_MODULE_SEGMENTATION})

   set(ITK_DIR ${ITK_DIR})
   find_package(ITK REQUIRED)
   include(${ITK_USE_FILE})

   set(TCLAP_INCLUDE_DIR ${TCLAP_INCLUDE_DIR})
   include_directories(${TCLAP_INCLUDE_DIR})
   
   set(Boost_INCLUDE_DIR ${Boost_INCLUDE_DIR})
   FIND_PACKAGE(Boost 1.40.0 REQUIRED)

   set(USE_NLOPT ${USE_NLOPT})
   if (USE_NLOPT)
     set(NLOPT_INCLUDE_DIR ${NLOPT_INCLUDE_DIR})
     set(NLOPT_SECONDARY_INCLUDE_DIR ${NLOPT_SECONDARY_INCLUDE_DIR})
     include_directories(${NLOPT_INCLUDE_DIR})
     include_directories(${NLOPT_SECONDARY_INCLUDE_DIR})
     set(NLOPT_LIBRARY_DIR ${NLOPT_LIBRARY_DIR})
     set(NLOPT_LIBRARY ${NLOPT_LIBRARY})
     set(NLOPT_FOUND 1)
   endif(USE_NLOPT)

   set(TinyXML2_INCLUDE_DIR ${TinyXML2_INCLUDE_DIR})
   include_directories(${TinyXML2_INCLUDE_DIR})
   set(TinyXML2_LIBRARY_DIR ${TinyXML2_LIBRARY_DIR})
   set(TinyXML2_LIBRARY ${TinyXML2_LIBRARY})

   set(USE_VTK ${USE_VTK})
   if (USE_VTK)
     set(VTK_DIR ${VTK_DIR})
     find_package(VTK REQUIRED COMPONENTS vtkCommonCore vtkFiltersCore vtkIOXML vtkIOLegacy vtksys QUIET)

     set(VTK_PREFIX ${VTK_PREFIX})
     set(VTKSYS_LIBRARY ${VTKSYS_LIBRARY})
     if (VTK_VERSION VERSION_LESS "8.90.0")
         include(${VTK_USE_FILE})
     endif()
   endif(USE_VTK)
   
   SET(USE_RPI ${USE_RPI})
   if (USE_RPI)
     set(RPI_DIR ${RPI_DIR})
     find_package(RPI REQUIRED)
     include(${RPI_USE_FILE})
   endif(USE_RPI)

endif(NOT ANIMA_USE_FILE_INCLUDED)
