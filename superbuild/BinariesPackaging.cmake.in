set(BINARY_TOOLS_LIST
  animaAnalyticAssociatedLegendre
  animaApplyDistortionCorrection
  animaApplyTransformSerie
  animaAverageImages
  animaBMDistortionCorrection
  animaBuildSamplesFromVolumes
  animaCollapseImage
  animaConcatenateImages
  animaConnectedComponents
  animaConvertImage
  animaConvertShapes
  animaCramersTest
  animaCreateImage
  animaCropImage
  animaDenseMCMSVFBMRegistration
  animaDenseSVFBMRegistration
  animaDenseTensorSVFBMRegistration
  animaDenseTransformArithmetic
  animaDetectedComponents
  animaDiceMeasure
  animaDisplacementFieldJacobian
  animaDistanceMap
  animaDistortionCorrection
  animaDTIEstimator
  animaDTIProbabilisticTractography
  animaDTIScalarMaps
  animaDTITractography
  animaDWISimulatorFromDTI
  animaDWISimulationFromMCM
  animaEddyCurrentCorrection
  animaExpTensors
  animaFDRCorrectPValues
  animaFibersApplyTransformSerie
  animaFibersCounter
  animaFibersDiseaseScores
  animaFibersFDRCorrectPValues
  animaFibersFilterer
  animaFillHoleImage
  animaGammaMixtureT2RelaxometryEstimation
  animaGcStremMsLesionsSegmentation
  animaGeneralizedFA
  animaGMMT2RelaxometryEstimation
  animaGraphCut
  animaImageArithmetic
  animaImageMosaicing
  animaImageResolutionChanger
  animaImageSmoother
  animaInfluenceZones
  animaIsosurface
  animaKMeansClustering
  animaLesionEvolutionDetection
  animaLinearTransformArithmetic
  animaLinearTransformToSVF
  animaLocalPatchCovarianceDistance
  animaLocalPatchMeanDistance
  animaLogTensors
  animaLowMemCramersTest
  animaLowMemLocalPatchCovarianceDistance
  animaLowMemLocalPatchMeanDistance
  animaLowMemNLMeansPatientToGroupComparison
  animaLowMemPatientToGroupComparison
  animaLowMemPatientToGroupODFComparison
  animaMajorityLabelVoting
  animaMCMApplyTransformSerie
  animaMCMAverageImages
  animaMCMEstimator
  animaMCMModelAveraging
  animaMCMProbabilisticTractography
  animaMCMScalarMaps
  animaMCMTractography
  animaMaskImage
  animaMergeBlockImages
  animaMorphologicalOperations
  animaMultiT2RelaxometryEstimation
  animaN4BiasCorrection
  animaNLMeans
  animaNLMeansPatientToGroupComparison
  animaNLMeansTemporal
  animaNoiseGenerator
  animaNyulStandardization
  animaODFApplyTransformSerie
  animaODFEstimator
  animaODFProbabilisticTractography
  animaOtsuThrImage
  animaPatientToGroupComparison
  animaPatientToGroupComparisonOnTracks
  animaPatientToGroupODFComparison
  animaPyramidalBMRegistration
  animaRemoveTouchingBorder
  animaROIIntensitiesStats
  animaSegPerfAnalyzer
  animaSimuBlochCoherentGRE
  animaSimuBlochGRE
  animaSimuBlochIR-GRE
  animaSimuBlochIR-SE
  animaSimuBlochSE
  animaSimuBlochSP-GRE
  animaStimulatedSpinEchoSimulator
  animaSymmetryConstrainedRegistration
  animaSymmetryPlane
  animaT1RelaxometryEstimation
  animaT1SERelaxometryEstimation
  animaT2EPGRelaxometryEstimation
  animaT2RelaxometryEstimation
  animaTensorApplyTransformSerie
  animaThrImage
  animaTissuesEMClassification
  animaTotalLesionLoad
  animaTracksMCMPropertiesExtraction
  animaTransformSerieXmlGenerator
  animaVectorizeImages
  )

set(TMP_PACKAGING_DIR "@CMAKE_BINARY_DIR@/Anima-Binaries-@ANIMA_SUPERBUILD_VERSION@")
file(MAKE_DIRECTORY ${TMP_PACKAGING_DIR})

if (NOT WIN32)
  foreach(binary_file ${BINARY_TOOLS_LIST})
    file(COPY "@CMAKE_BINARY_DIR@/bin/${binary_file}" DESTINATION "${TMP_PACKAGING_DIR}")
  endforeach()

  execute_process(
    WORKING_DIRECTORY @CMAKE_BINARY_DIR@
    COMMAND zip -r Anima-Binaries-@ANIMA_SUPERBUILD_VERSION@.zip Anima-Binaries-@ANIMA_SUPERBUILD_VERSION@)
else()
  foreach(binary_file ${BINARY_TOOLS_LIST})
    file(COPY "@CMAKE_BINARY_DIR@/bin/Release/${binary_file}.exe" DESTINATION "${TMP_PACKAGING_DIR}")
  endforeach()
endif()
